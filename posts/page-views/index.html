<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-proxy-endpoint" content="http://mamulee-blog.du.r.appspot.com/query?id=ag52fm1hbXVsZWUtYmxvZ3IVCxIIQXBpUXVlcnkYgICAmKbXgAoM"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="깃허브 블로그 글 조회수 기능 추가 일단 실패 (Chirpy 테마)" /><meta name="author" content="mamulee" /><meta property="og:locale" content="en" /><meta name="description" content="서론 내가 쓴 글을 과연 나 말고 다른 사람들이 보기는 할까? 문득 궁금해져서 귀찮아서 추가하지 않으려던 조회수 기능을 추가해 보려고 한다. Chirpy 공식 설명 문서를 따라 해보자. 이 문서에는 조회수가 낮다면 블로그 글 쓸 맛이 안 날 수 있으니 주의하라는 재밌는 경고가 쓰여져 있지만, 나는 조회수에 딱히 집착하지 않으니 가뿐히 무시하고 시작한다. 아무도 안 보면 내가 얼마나 들락날락하는지 알아보는 용도로 쓰지 뭐..,, 시작~~~~ Google Analytics 계정 만들기 https://analytics.google.com/ 들어가서 측정 시작 :" /><meta property="og:description" content="서론 내가 쓴 글을 과연 나 말고 다른 사람들이 보기는 할까? 문득 궁금해져서 귀찮아서 추가하지 않으려던 조회수 기능을 추가해 보려고 한다. Chirpy 공식 설명 문서를 따라 해보자. 이 문서에는 조회수가 낮다면 블로그 글 쓸 맛이 안 날 수 있으니 주의하라는 재밌는 경고가 쓰여져 있지만, 나는 조회수에 딱히 집착하지 않으니 가뿐히 무시하고 시작한다. 아무도 안 보면 내가 얼마나 들락날락하는지 알아보는 용도로 쓰지 뭐..,, 시작~~~~ Google Analytics 계정 만들기 https://analytics.google.com/ 들어가서 측정 시작 :" /><link rel="canonical" href="https://mamulee.github.io//posts/page-views/" /><meta property="og:url" content="https://mamulee.github.io//posts/page-views/" /><meta property="og:site_name" content="mamulee" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-31T18:20:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="깃허브 블로그 글 조회수 기능 추가 일단 실패 (Chirpy 테마)" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@mamulee" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"mamulee","url":"https://github.com/mamulee/"},"dateModified":"2022-04-01T18:40:43+09:00","datePublished":"2022-03-31T18:20:00+09:00","description":"서론 내가 쓴 글을 과연 나 말고 다른 사람들이 보기는 할까? 문득 궁금해져서 귀찮아서 추가하지 않으려던 조회수 기능을 추가해 보려고 한다. Chirpy 공식 설명 문서를 따라 해보자. 이 문서에는 조회수가 낮다면 블로그 글 쓸 맛이 안 날 수 있으니 주의하라는 재밌는 경고가 쓰여져 있지만, 나는 조회수에 딱히 집착하지 않으니 가뿐히 무시하고 시작한다. 아무도 안 보면 내가 얼마나 들락날락하는지 알아보는 용도로 쓰지 뭐..,, 시작~~~~ Google Analytics 계정 만들기 https://analytics.google.com/ 들어가서 측정 시작 :","headline":"깃허브 블로그 글 조회수 기능 추가 일단 실패 (Chirpy 테마)","mainEntityOfPage":{"@type":"WebPage","@id":"https://mamulee.github.io//posts/page-views/"},"url":"https://mamulee.github.io//posts/page-views/"}</script><title>깃허브 블로그 글 조회수 기능 추가 일단 실패 (Chirpy 테마) | mamulee</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="mamulee"><meta name="application-name" content="mamulee"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://http:" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://http:"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> </a></div><div class="site-title mt-3"> <a href="/">mamulee</a></div><div class="site-subtitle font-italic">A text-focused Jekyll theme</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/mamulee" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>깃허브 블로그 글 조회수 기능 추가 일단 실패 (Chirpy 테마)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>깃허브 블로그 글 조회수 기능 추가 일단 실패 (Chirpy 테마)</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/mamulee/">mamulee</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1648718400" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-03-31 </em> </span> <span> Updated <em class="timeago" data-ts="1648806043" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-04-01 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2755 words"> <em>15 min</em> read</span> <span> <em id="pv" class="pageviews"> <i class="fas fa-spinner fa-spin fa-fw"></i> </em> views </span></div></div></div><div class="post-content"><h2 id="서론"><span class="mr-2">서론</span><a href="#서론" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p><code class="language-plaintext highlighter-rouge">내가 쓴 글을 과연 나 말고 다른 사람들이 보기는 할까?</code> 문득 궁금해져서 귀찮아서 추가하지 않으려던 조회수 기능을 추가해 보려고 한다. <a href="https://chirpy.cotes.page/posts/enable-google-pv/">Chirpy 공식 설명 문서</a>를 따라 해보자. 이 문서에는 <code class="language-plaintext highlighter-rouge">조회수가 낮다면 블로그 글 쓸 맛이 안 날 수 있으니 주의하라는</code> 재밌는 경고가 쓰여져 있지만, 나는 조회수에 딱히 집착하지 않으니 가뿐히 무시하고 시작한다. <del>아무도 안 보면 내가 얼마나 들락날락하는지 알아보는 용도로 쓰지 뭐..,,</del> <br /> <br /></p><h2 id="시작"><span class="mr-2">시작~~~~</span><a href="#시작" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="google-analytics-계정-만들기"><span class="mr-2">Google Analytics 계정 만들기</span><a href="#google-analytics-계정-만들기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><a href="https://analytics.google.com/">https://analytics.google.com/</a> 들어가서 <code class="language-plaintext highlighter-rouge">측정 시작</code> :</p><ol><li>계정 설정 : 원하는 계정 이름, 계정 데이터 공유 설정을 한다.<blockquote class="prompt-tip"><div><p>나는 그냥 체크된 대로 진행했다.</p></div></blockquote><li>속성 설정 : 속성 이름, 보고 시간대, 통화 설정<blockquote class="prompt-tip"><div><p>나중에 수정이 가능하다고 하니 대충 설정하면 될 듯하다. 속성 이름은 알아보기 쉽게 블로그 이름으로 했다.</p></div></blockquote><li>비지니스 정보<blockquote class="prompt-tip"><div><p>딱 봐도 귀찮아 보여서 굳이 써야하나 하고 바로 만들기를 눌렀더니 그대로 진행됐다. <code class="language-plaintext highlighter-rouge">설정 안 해도 괜찮은 것 같다.</code></p></div></blockquote></ol><p>만들기를 누르면 아래와 같이 약관 계약 창이 뜨고 동의함 누르면 완료!</p><p><img data-src="/assets/img/page-views/1.png" alt="약관 계약 창" data-proofer-ignore></p><h3 id="데이터-스트림-만들기"><span class="mr-2">데이터 스트림 만들기</span><a href="#데이터-스트림-만들기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>계정을 만들면 바로 데이터 스트림 설정 창으로 넘어갈 것이다. 그렇지 않다면 직접 찾아서 들어가자.</p><blockquote><p>좌측 상단 관리자 -&gt; 원하는 속성 클릭 (방금 만든 속성 이름) -&gt; 데이터 스트림</p><p>자 이제 플랫폼을 <code class="language-plaintext highlighter-rouge">웹</code>으로 선택하면 데이터 스트림 설정 창이 뜬다. 본인의 <code class="language-plaintext highlighter-rouge">블로그 주소</code>와 <code class="language-plaintext highlighter-rouge">스트림 이름</code>을 적자. 난 그냥 똑같이 블로그 이름 썼다. 그리고 <code class="language-plaintext highlighter-rouge">스트림 만들기</code>를 누르면,,,,…</p></blockquote><p><img data-src="/assets/img/page-views/2.png" alt="웹 스트림 세부정보" data-proofer-ignore></p><p>짜잔~~ 위와 같이 웹 스트림 세부 정보 창이 뜬다. <code class="language-plaintext highlighter-rouge">G-XXXXXXXXXX</code> 형식의 측정 ID를 복사해서 <code class="language-plaintext highlighter-rouge">_config.yml</code> 파일로 가보자.</p><div file="_config.yml" class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="_config.yml"><i class="far fa-file-code"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="na">google_analytics</span><span class="pi">:</span>
  <span class="na">id</span><span class="pi">:</span> <span class="s1">'</span><span class="s">G-XXXXXXXXXX'</span>   <span class="c1"># 본인의 측정 ID</span>
  <span class="c1"># Google Analytics pageviews report settings</span>
  <span class="na">pv</span><span class="pi">:</span>
    <span class="na">proxy_endpoint</span><span class="pi">:</span>   <span class="c1"># fill in the Google Analytics superProxy endpoint of Google App Engine</span>
    <span class="na">cache_path</span><span class="pi">:</span>       <span class="c1"># the local PV cache data, friendly to visitors from GFW region</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">_config.yml</code> 파일 내 위 부분을 찾아 측정 ID를 넣고 저장 후 <code class="language-plaintext highlighter-rouge">git push</code>를 해주면, 일정 시간이 지난 후 아래와 같이 실시간으로 통계를 확인할 수 있다.</p><p><img data-src="/assets/img/page-views/3.png" alt="실시간 보고서" data-proofer-ignore></p><h3 id="조회수-설정"><span class="mr-2">조회수 설정</span><a href="#조회수-설정" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><a href="https://developers.google.com/analytics/solutions/google-analytics-super-proxy">여기</a>서 상새한 설명을 확인할 수 있지만 난 그냥 빨리 <code class="language-plaintext highlighter-rouge">Chirpy</code>를 이용해 블로그 글 조회수만 확인하고 싶을 뿐이다.</p><h3 id="google-app-engine-셋업"><span class="mr-2">Google App Engine 셋업</span><a href="#google-app-engine-셋업" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ol><li><a href="https://console.cloud.google.com/appengine">https://console.cloud.google.com/appengine</a> 접속, 약관 동의 후,<li>프로젝트 만들기<blockquote class="prompt-tip"><div><p>흠, 프로젝트 이름을 적은 후 가까운 데이터 센터를 지정해야 했지만 이번에도 역시 그냥 만들기를 누르니까 만들어졌다. 일단 계속 해보자.</p></div></blockquote><li>앱 만들기<blockquote class="prompt-warning"><div><p>문서에는 앱 만들기 후 프로젝트 만들기라 되어있는데 난 왜 반대지? 일단 내 맘대로 진행해 본다.</p></div></blockquote><blockquote><p><img data-src="/assets/img/page-views/4.png" alt="앱 만들기" data-proofer-ignore></p></blockquote><blockquote><p>한국으로 설정하고 다음</p></blockquote><blockquote><p><img data-src="/assets/img/page-views/5.png" alt="시작하기" data-proofer-ignore></p></blockquote><blockquote><p>언어 = <code class="language-plaintext highlighter-rouge">Python</code>, 환경 = <code class="language-plaintext highlighter-rouge">표준</code>으로 하고 <code class="language-plaintext highlighter-rouge">나중에 배포</code></p></blockquote><li>API 및 서비스 (좌측 상단 탐색 메뉴 안에 있음)<blockquote><ol><li><code class="language-plaintext highlighter-rouge">+ API 및 서비스 사용 설정</code> -&gt; <code class="language-plaintext highlighter-rouge">Google Analytics API</code> 검색 <img data-src="/assets/img/page-views/6.png" alt="Google Analytics API" data-proofer-ignore> -&gt; 사용</ol></blockquote><blockquote><ol><li><code class="language-plaintext highlighter-rouge">OAuth 동의 화면</code> -&gt; User Type <code class="language-plaintext highlighter-rouge">외부</code> 선택 -&gt; 만들기</ol></blockquote><blockquote class="prompt-tip"><div><p>OAuth 동의 화면 만들기에 대한 자세한 설명은 없다. 대충 Google Analytics API를 사용하기 위해 사용자에게 보여지는 동의 화면에 대한 설정인 것 같은데, 이전과 마찬가지로 나는 그냥 <code class="language-plaintext highlighter-rouge">필수 항목</code>만 채워넣고 계속 다음 단계로 진행하여 완료했다.</p></div></blockquote><blockquote><ol><li><code class="language-plaintext highlighter-rouge">사용자 인증 정보</code> -&gt; <code class="language-plaintext highlighter-rouge">+ 사용자 인증 정보 만들기</code> -&gt; <code class="language-plaintext highlighter-rouge">OAuth 클라이언트 ID</code> -&gt; 애플리케이션 유형 <code class="language-plaintext highlighter-rouge">웹 애플리케이션</code> -&gt; 이름 작성 -&gt; 승인된 리디렉션 URI : <code class="language-plaintext highlighter-rouge">https://&lt;project-id&gt;.&lt;region&gt;.r.appspot.com/admin/auth</code><blockquote><ul><li><code class="language-plaintext highlighter-rouge">project-id</code> : 홈의 프로젝트 정보나 프로젝트 선택 시 ID를 확인할 수 있다.<li><code class="language-plaintext highlighter-rouge">region</code> : 앱 만들기에서 선택했던 <code class="language-plaintext highlighter-rouge">리전</code> 같다,, 스크린샷 해놓은 덕분에 살았다,…</ul></blockquote></ol></blockquote><blockquote><p>그럼 아래와 같이 OAuth 클라이언트가 생성된 것을 확인할 수 있다. 딱 봐도 중요해 보이니 잘 적어 놓자.</p></blockquote><blockquote><p><img data-src="/assets/img/page-views/7.png" alt="OAuth Client" data-proofer-ignore></p></blockquote><li>Cloud SDK 다운로드 : <a href="https://cloud.google.com/sdk/docs/quickstart">https://cloud.google.com/sdk/docs/quickstart</a><blockquote><p>이전에 프로젝트에 결제 정보를 등록하지 않았다면, 구글 클라우드 플랫폼 최상단에 계속 뜨는 광고</p></blockquote><blockquote><p><img data-src="/assets/img/page-views/7.png" alt="광고" data-proofer-ignore></p></blockquote><blockquote><p>활성화를 누르거나 탐색 메뉴 -&gt; 결제 -&gt; 결제 계정 연결에서 등록해주면 된다.</p></blockquote><blockquote class="prompt-tip"><div><p>블로그에 사용하기엔 무료로 제공되는 크레딧이 충분하기 때문에 추가 결제에 대한 걱정은 안 해도 된다고 한다.</p></div></blockquote><blockquote><p>링크에서 본인에게 맞는 패키지를 다운하고 압축 파일 해제 후</p></blockquote><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>./google-cloud-sdk/install.sh
</pre></table></code></div></div><p>까지 실행해야 완료된다. <del><code class="language-plaintext highlighter-rouge">다운로드 과정을 캡처로 다 떠놨지만 귀찮아서 생략한다. 필요한 분이 생긴다면 추후에 업데이트 하겠다</code>.</del></p><li>명령어 실행 :<blockquote><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gcloud init
</pre></table></code></div></div><p>를 실행하면</p></blockquote><blockquote><p><img data-src="/assets/img/page-views/9.png" alt="콘솔창 1" data-proofer-ignore></p></blockquote><blockquote><p>위와 같이 뜨고 , <code class="language-plaintext highlighter-rouge">y</code> 엔터를 하면 크롬 창이 열리면서 로그인 인증이 진행된다. 그 이후,</p></blockquote><blockquote><p><img data-src="/assets/img/page-views/10.png" alt="콘솔창 2" data-proofer-ignore></p></blockquote><blockquote><p>콘솔창에서 위와 같이 확인할 수 있고, <code class="language-plaintext highlighter-rouge">1</code>을 입력하면</p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">Your current project has been set to: [프로젝트 ID].</code></p></blockquote><blockquote><p>라는 문구와 함께 주르륵 어쩌구 저쩌구 안내 문구들이 뜬다.</p></blockquote><blockquote><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>gcloud info
</pre></table></code></div></div><p>마지막으로 위 명령어를 입력하면 현재 프로젝트에 관한 정보들을 확인할 수 있다. <br /> <br /></p></blockquote></ol><h3 id="google-analytics-superproxy-셋업"><span class="mr-2">Google Analytics superProxy 셋업</span><a href="#google-analytics-superproxy-셋업" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ol><li>깃허브에서 <strong>Google Analytics superProxy</strong>를 로컬에 클론 해오자 :<div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>git clone https://github.com/googleanalytics/google-analytics-super-proxy
</pre></table></code></div></div><li><a href="https://github.com/googleanalytics/google-analytics-super-proxy/blob/master/src/app.yaml#L1-L2"><code class="language-plaintext filepath highlighter-rouge">src/app.yaml</code></a> 파일의 첫 2줄 삭제 : ```yaml<ul file="src/app.yml"><li>application: your-project-id<li>version: 1 ```</ul><li>In <code class="language-plaintext filepath highlighter-rouge">src/config.py</code>, 아까 잘 적어놓은 <code class="language-plaintext highlighter-rouge">OAUTH_CLIENT_ID</code> 와 <code class="language-plaintext highlighter-rouge">OAUTH_CLIENT_SECRET</code>를 입력하자.<li><p><code class="language-plaintext highlighter-rouge">XSRF_KEY</code>에는 자기만 알 수 있는 아무말을 적는다. <code class="language-plaintext filepath highlighter-rouge">config.py</code> 파일 예시 :</p><div file="src/config.py" class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="src/config.py"><i class="far fa-file-code"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre> <span class="c1">#!/usr/bin/python2.7
</span>
 <span class="n">__author__</span> <span class="o">=</span> <span class="s">'pete.frisella@gmail.com (Pete Frisella)'</span>

 <span class="c1"># OAuth 2.0 Client Settings
</span> <span class="n">AUTH_CONFIG</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'OAUTH_CLIENT_ID'</span><span class="p">:</span> <span class="s">'YOUR_CLIENT_ID'</span><span class="p">,</span>
   <span class="s">'OAUTH_CLIENT_SECRET'</span><span class="p">:</span> <span class="s">'YOUR_CLIENT_SECRET'</span><span class="p">,</span>
   <span class="s">'OAUTH_REDIRECT_URI'</span><span class="p">:</span> <span class="s">'%s%s'</span> <span class="o">%</span> <span class="p">(</span>
     <span class="s">'https://chirpy-test-XXXXXX.ue.r.appspot.com'</span><span class="p">,</span>
     <span class="s">'/admin/auth'</span>
   <span class="p">)</span>
 <span class="p">}</span>

 <span class="c1"># XSRF Settings
</span> <span class="n">XSRF_KEY</span> <span class="o">=</span> <span class="s">'OnceUponATimeThereLivedALegend'</span>
</pre></table></code></div></div><li><p>클론한 폴더 내 <code class="language-plaintext filepath highlighter-rouge">src/</code> 에서, 아래와 같이 콘솔에 명령어 수행 :</p><div class="language-console highlighter-rouge"><div class="code-header"> <span data-label-text="Console"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="gp">[root@bc96abf71ef8 src]#</span><span class="w"> </span>gcloud app deploy
<span class="go">Services to deploy:

descriptor:      [/tmp/google-analytics-super-proxy/src/app.yaml]
source:          [/tmp/google-analytics-super-proxy/src]
target project:  [chirpy-test-XXXX]
target service:  [default]
target version:  [VESRION_NUM]
target url:      [https://chirpy-test-XXXX.ue.r.appspot.com]


Do you want to continue (Y/n)? Y

Beginning deployment of service [default]...
╔════════════════════════════════════════════════════════════╗
╠═ Uploading 1 file to Google Cloud Storage                 ═╣
╚════════════════════════════════════════════════════════════╝
File upload done.
Updating service [default]...done.
Setting traffic split for service [default]...done.
Deployed service [default] to [https://chirpy-test-XXXX.ue.r.appspot.com]

You can stream logs from the command line by running:
</span><span class="gp">$</span><span class="w"> </span>gcloud app logs <span class="nb">tail</span> <span class="nt">-s</span> default
<span class="go">
To view your application in the web browser run:
</span><span class="gp">$</span><span class="w"> </span>gcloud app browse
</pre></table></code></div></div><blockquote class="prompt-warning"><div><p>위와 같이 순조롭게 마치면 좋겠지만, 난 <code class="language-plaintext highlighter-rouge">3</code>번의 시도 끝에 성공했다. ERROR 메세지에 안내된 주소로 가봐도 <code class="language-plaintext highlighter-rouge">Cloud Build API</code> 사용이 이미 설정되어 있었기에 시스템에 적용될 때까지 시간이 필요하다길래 기다리면서 계속 시도했다.</p></div></blockquote><blockquote class="prompt-warning"><div><p>근데 또 한가지 찜찜한 점이 있다. 내가 작성한 url과 target url의 <code class="language-plaintext highlighter-rouge">region</code> 부분이 다르다. 난 <code class="language-plaintext highlighter-rouge">asia-northeast3</code>이라 썼는데 <code class="language-plaintext highlighter-rouge">du</code>로 바뀌어 있다.</p></div></blockquote><li>어쨌든 콘솔에 뜬 <code class="language-plaintext highlighter-rouge">target url</code>을 인터넷 주소창에 입력한 후 맨 마지막에 <code class="language-plaintext highlighter-rouge">/admin</code>을 추가하고 이동한다.<li><code class="language-plaintext highlighter-rouge">Manage Users</code>에서 자신의 이메일 주소를 추가한다.<li><code class="language-plaintext highlighter-rouge">Authorize Access</code> 클릭.</ol><blockquote class="prompt-danger"><div><p><code class="language-plaintext highlighter-rouge">Authorize Access</code>를 클릭하고 내 구글 아이디로 로그인을 하니 웬걸 <code class="language-plaintext highlighter-rouge">403 오류: access_denied</code> 가 계속 떴다. 아니 내가 관리자인데 왜 자꾸 액세스 권한이 없다는 거야???? 심지어 액세스 권한 요청은 또 개발자인 <code class="language-plaintext highlighter-rouge">나 (내 이메일 주소)</code>한테 연락을 하란다. 정말 답답해 죽는 줄 알았다. 도대체 왜 안 되는 걸까….여기서 시간 소모를 엄청 했다.</p></div></blockquote><blockquote><p>드디어 찾아낸 해결 방법 :</p><blockquote><p><code class="language-plaintext highlighter-rouge">API 및 서비스</code>의 <code class="language-plaintext highlighter-rouge">OAuth 동의 화면</code>에서 <code class="language-plaintext highlighter-rouge">테스트 사용자</code>에 내가 사용할 구글 계정을 추가해야 한다. 앱 게시 상태가 일단 <code class="language-plaintext highlighter-rouge">테스트</code>인데, 이건 나중에 필요하면 <code class="language-plaintext highlighter-rouge">앱 게시</code> 해봐야겠다.</p></blockquote></blockquote><blockquote class="prompt-danger"><div><p>하지만 곧바로 또 다시 다른 난관에 봉착..,..<code class="language-plaintext highlighter-rouge">Privacy error</code>로 사이트가 안전하지 않아 연결을 안 해준다… 뭐가 잘못된 걸까….. 오늘 다 끝내고 싶었는데 안 되겠다,,, 내일 다시 이어서 해야지….</p></div></blockquote><p><strong>다시 해결!!!!!!</strong></p><blockquote class="prompt-tip"><div><p><strong>‘연결이 비공개로 설정되어 있지 않습니다.’</strong> 가 뜬 창의 주소 <code class="language-plaintext highlighter-rouge">url</code>의 <code class="language-plaintext highlighter-rouge">https</code>를 <code class="language-plaintext highlighter-rouge">http</code>로 바꿔준다. 또, 이전에 내가 찜찜하다고 한 <code class="language-plaintext highlighter-rouge">du</code> 부분,,,분명 난 <code class="language-plaintext highlighter-rouge">Redirect URI</code>에 <code class="language-plaintext highlighter-rouge">asia-northeast3</code>을 썼지만,,, <code class="language-plaintext highlighter-rouge">gcloud app deploy</code>에서는 바뀌었기 때문에 주소창에서 이 부분을 수정하니 드디어! <img data-src="/assets/img/page-views/11.png" alt="성공" data-proofer-ignore> <code class="language-plaintext highlighter-rouge">continue</code>를 누르면 :</p></div></blockquote><p><img data-src="/assets/img/page-views/12.png" alt="Google Analytics superProxy" data-proofer-ignore></p><p>다음 단계로 넘어갈 수 있는 창이 뜬다.</p><h3 id="google-analytics-query-만들기"><span class="mr-2">Google Analytics Query 만들기</span><a href="#google-analytics-query-만들기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ol><li><code class="language-plaintext highlighter-rouge">Create Query</code> -&gt; <a href="https://ga-dev-tools.web.app/query-explorer/">Query Explorer</a> 를 이용해 <code class="language-plaintext highlighter-rouge">query</code>를 만들어 보자.<blockquote><ul><li>id : <code class="language-plaintext highlighter-rouge">ga:XXXX</code> 형식<li>start-date : 블로그 첫 글 개시 날짜<li>end-date : <code class="language-plaintext highlighter-rouge">today</code><li>metrics : <code class="language-plaintext highlighter-rouge">ga:pageviews</code><li>dimensions : <code class="language-plaintext highlighter-rouge">ga:pagePath</code><li>filters : <code class="language-plaintext highlighter-rouge">ga:pagePath=~^/posts/.*/$;ga:pagePath!@=</code><blockquote><p><code class="language-plaintext highlighter-rouge">site.baseurl</code>을 지정했다면, <code class="language-plaintext highlighter-rouge">ga:pagePath=~^/BASE_URL/posts/.*/$</code></p></blockquote></ul></blockquote></ol><blockquote class="prompt-danger"><div><p>안 된다. 자료가 많이 오래됐나? 아무튼 <code class="language-plaintext highlighter-rouge">UA</code>가 아닌 <code class="language-plaintext highlighter-rouge">GA4</code> 사용해야 하고,,, 이리 저리 해본 끝에 게시글에 조회수 항목이 생겼지만 계속 로딩만 뜨고.. Google Analytics도 제대로 되고 있는 건가 잘 모르겠다..</p></div></blockquote><h2 id="결론"><span class="mr-2">결론</span><a href="#결론" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>그래도 설명글을 쭉 따라하면 잘 될 줄 알았는데 복병이 너무 많았다,,,, JAVA 처음 배웠을 때 실습 프로젝트로 게시판 만들고 글에 조회수 추가하는 간단한 방법이 그리워졌다…. 검색해 보니 이 방법은 아무도 쓰지 않는 것 같아 보였고…..결론은 조회수 기능을 쉽게 제공해 주는 <code class="language-plaintext highlighter-rouge">다른 블로그 플랫폼</code>이나 <code class="language-plaintext highlighter-rouge">HITS</code>인가 를 <code class="language-plaintext highlighter-rouge">추천</code>한다. 사람들이 많이 쓰는 것 같다 사용법도 간단하다고,,,,역시 혼자 고생하는 거 보단 대세를 따르는 게 좋을 듯 하다. 하지만 나는 이 방법으로 꼭 성공해보고 싶으니 계속 시도할 거다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/blogging/'>Blogging</a>, <a href='/categories/tutorial/'>Tutorial</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/github/" class="post-tag no-text-decoration" >github</a> <a href="/tags/blog/" class="post-tag no-text-decoration" >blog</a> <a href="/tags/jekyll/" class="post-tag no-text-decoration" >jekyll</a> <a href="/tags/chirpy/" class="post-tag no-text-decoration" >chirpy</a> <a href="/tags/google-analytics/" class="post-tag no-text-decoration" >google analytics</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%EA%B9%83%ED%97%88%EB%B8%8C+%EB%B8%94%EB%A1%9C%EA%B7%B8+%EA%B8%80+%EC%A1%B0%ED%9A%8C%EC%88%98+%EA%B8%B0%EB%8A%A5+%EC%B6%94%EA%B0%80+%EC%9D%BC%EB%8B%A8+%EC%8B%A4%ED%8C%A8+%28Chirpy+%ED%85%8C%EB%A7%88%29+-+mamulee&url=https%3A%2F%2Fmamulee.github.io%2F%2Fposts%2Fpage-views%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%EA%B9%83%ED%97%88%EB%B8%8C+%EB%B8%94%EB%A1%9C%EA%B7%B8+%EA%B8%80+%EC%A1%B0%ED%9A%8C%EC%88%98+%EA%B8%B0%EB%8A%A5+%EC%B6%94%EA%B0%80+%EC%9D%BC%EB%8B%A8+%EC%8B%A4%ED%8C%A8+%28Chirpy+%ED%85%8C%EB%A7%88%29+-+mamulee&u=https%3A%2F%2Fmamulee.github.io%2F%2Fposts%2Fpage-views%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fmamulee.github.io%2F%2Fposts%2Fpage-views%2F&text=%EA%B9%83%ED%97%88%EB%B8%8C+%EB%B8%94%EB%A1%9C%EA%B7%B8+%EA%B8%80+%EC%A1%B0%ED%9A%8C%EC%88%98+%EA%B8%B0%EB%8A%A5+%EC%B6%94%EA%B0%80+%EC%9D%BC%EB%8B%A8+%EC%8B%A4%ED%8C%A8+%28Chirpy+%ED%85%8C%EB%A7%88%29+-+mamulee" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/jpa-basic/">강의 필기 - 자바 ORM 표준 JPA 프로그래밍 - 기본편</a><li><a href="/posts/springboot+jpa/">강의 필기</a><li><a href="/posts/page-views/">깃허브 블로그 글 조회수 기능 추가 일단 실패 (Chirpy 테마)</a><li><a href="/posts/github-blog/">깃허브 블로그 만들다 안 될 때 (Chirpy 테마)</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/blog/">blog</a> <a class="post-tag" href="/tags/chirpy/">chirpy</a> <a class="post-tag" href="/tags/github/">github</a> <a class="post-tag" href="/tags/jekyll/">jekyll</a> <a class="post-tag" href="/tags/google-analytics/">google analytics</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/github-blog/"><div class="card-body"> <em class="timeago small" data-ts="1648632000" > 2022-03-30 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>깃허브 블로그 만들다 안 될 때 (Chirpy 테마)</h3><div class="text-muted small"><p> 서론 이 글은 검색만 해도 수두룩하게 나오는 깃허브 블로그를 개설 설명 글대로 똑같이 따라했지만 어,,, 왜 안 되지? 간단한 것 같은데, 똑같이 했는데 왜 나만 안 되는 거야? 라는 상황을 겪은 과거의 나와 같은 사람들을 위해 쓰는 글이다. 왜 안 돼? 테마 적용 깃허브 블로그 개설 설명글을 보면 테마 적용은 정말 정말 쉽다. 각종 Jek...</p></div></div></a></div><div class="card"> <a href="/posts/jpa-basic/"><div class="card-body"> <em class="timeago small" data-ts="1657533600" > 2022-07-11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>강의 필기 - 자바 ORM 표준 JPA 프로그래밍 - 기본편</h3><div class="text-muted small"><p> 자바 ORM 표준 JPA 프로그래밍 - 기본편 JPA 소개 장점 개발 속도 향상 유지보수성 증가 실무에서 어려운 이유 객체와 테이블의 설계와 올바른 맵핑 JPA 내부 동작방식에 대한 이해 JPA와 모던 자바 데이터 저장 기술 SQL 중심적인 개발의 문제점 대부분 객체를 관계형 DB에 저장 관리. ...</p></div></div></a></div><div class="card"> <a href="/posts/springboot+jpa/"><div class="card-body"> <em class="timeago small" data-ts="1654668240" > 2022-06-08 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>강의 필기</h3><div class="text-muted small"><p> 실전! 스프링 부트와 JPA 활용1 - 웹 애플리케이션 개발 프로젝트 환경 설정 H2 데이터베이스 설치 H2 데이터베이스 : 개발이나 테스트 용도로 가볍고 편리한 DB, 웹 콘솔 환경 제공 https://h2database.com/html/main.html 맞는 버전 (.zip) 다운로드 후 h2/bin 위치에서 JAVA로 실...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/github-blog/" class="btn btn-outline-primary" prompt="Older"><p>깃허브 블로그 만들다 안 될 때 (Chirpy 테마)</p></a> <a href="/posts/springboot+jpa/" class="btn btn-outline-primary" prompt="Newer"><p>강의 필기</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/mamulee">mamulee</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/blog/">blog</a> <a class="post-tag" href="/tags/chirpy/">chirpy</a> <a class="post-tag" href="/tags/github/">github</a> <a class="post-tag" href="/tags/jekyll/">jekyll</a> <a class="post-tag" href="/tags/google-analytics/">google analytics</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script async src="https://cdn.jsdelivr.net/npm/countup.js@1.9.3/dist/countUp.min.js"></script> <script defer src="/assets/js/dist/pvreport.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-FEF77XW6PF"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-FEF77XW6PF'); }); </script>
