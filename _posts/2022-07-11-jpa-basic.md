---
title: 강의 필기 
author: mamulee
date: 2022-07-11 19:00:00 +0900
categories: [Studying, Notes]
tags: []
img_path: /assets/img/jpa-basic/
---

# 자바 ORM 표준 JPA 프로그래밍 - 기본편

## JPA 소개

장점
- 개발 속도 향상
- 유지보수성 증가

실무에서 어려운 이유
1. 객체와 테이블의 설계와 올바른 맵핑
2. JPA 내부 동작방식에 대한 이해


## JPA와 모던 자바 데이터 저장 기술

### SQL 중심적인 개발의 문제점
- 대부분 객체를 관계형 DB에 저장 관리.
  - 모두 SQL
- 무한 반족, 지루한 코드
- 필드가 추가 되면 유지보수가 쉽지 않음.
- 패러다임의 불일치
  - 객체 vs. 관계형 데이터베이스
    - 상속
      - 객체 존재
      - 디비 X, 그나마 유사한 것이 "슈퍼타입 서브타입 관계"
    - 연관관계
      - 객체 : 참조 사용
      - 테이블 : 외래 키 사용
    - 데이터 타입
    - 데이터 식별 방법

### JPA
- Java Persistence API
- 자바 진영의 ORM 기술 표준
- 인터페이스의 모음

JPA를 왜 사용해야 하는가?
- SQL 중심적인 개발에서 객체 중심으로 개발
- 생산성
  - 저장 : jpa.persist(member)
  - 조회 : jpa.find(member)
  - 수정 : member.setName("newName")
  - 삭제 : jpa.remove(member)
- 유지보수
  - 필드 변경 시 SQL은 JPA가 해결
- 패러다임의 불일치 해결
  - 상속
    - 저장 : 알아서 2가지 insert 문 생성
    - 조회 : 알아서 join 문 생성
  - 연관관계
    - 신뢰할 수 있는 엔티티
      - 동인한 트랜잭션 내 조회한 엔티티는 같다.
- 성능
  - 1차 캐시와 동일성 (identity) 보장
    - 같은 트랜잭션 안에서는 같은 엔티티 반환
    - DB Isolation Level이 Read commit 이어도 애플리케이션에서 Repeatalbe Read 보장
  - 트랜잭션을 지원하는 쓰기 지연 (transactional write-behind)
    - 트랜잭션 커밋 전까지 SQL을 모았다가 한번에 전송
  - 지연 로딩 (Lazy Loading)
    - 객체가 실제 사용될 때 로딩
- 데이터 접근 추상화와 벤더 독립성
- 표준
